[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"
  SECRETS_SCAN_SMART_DETECTION_ENABLED = "false"

[dev]
  command = "npm run dev"
  port = 5173
  targetPort = 5173

# Headers for security
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"

# Environment variables (set these in Netlify UI)
# VITE_FIREBASE_API_KEY
# VITE_FIREBASE_AUTH_DOMAIN
# VITE_FIREBASE_DATABASE_URL
# VITE_FIREBASE_PROJECT_ID
# VITE_FIREBASE_STORAGE_BUCKET
# VITE_FIREBASE_MESSAGING_SENDER_ID
# VITE_FIREBASE_APP_ID

# Stripe Configuration
# STRIPE_SECRET_KEY (server-side only, not VITE_)
# VITE_STRIPE_PUBLISHABLE_KEY (client-side)
# STRIPE_WEBHOOK_SECRET (server-side only)
# VITE_STRIPE_PRICE_MONTHLY (client-side)
# VITE_STRIPE_PRICE_LIFETIME (client-side)

# Supabase Configuration
# VITE_SUPABASE_URL
# VITE_SUPABASE_ANON_KEY
# SUPABASE_SERVICE_KEY (server-side only, for webhooks)

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

